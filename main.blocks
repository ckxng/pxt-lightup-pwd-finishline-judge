<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="ZkwGuVm9o(tz%baDikwO">raceRunning</variable><variable id="d7L^0XID`F7fO`^_._v)">timeRaceStart</variable><variable id="}NbJ?R$J.?-9)m9V]B-|">timeRaceDuration</variable><variable id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</variable><variable id="-%/jU0CWlmlIQX:fimL;">index</variable><variable id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</variable><variable id="I3L`{MP3jINY7km[$fbm">index2</variable><variable id="noeDa2pf*Cjy#%G$j{tc">millisStartCalibrate</variable><variable id="a.jmx~RomcjoN8t2+@NQ">index3</variable><variable id="[$/kjfBcU)l4xAo3hlvy">index4</variable></variables><block type="pxt-on-start" id="BHVWrq`Zw4[H_T^h^@D~" x="0" y="16"><statement name="HANDLER"><block type="variables_set" id="+#=+W*LY3BnsnS=Fw$t$"><field name="VAR" id="ZkwGuVm9o(tz%baDikwO">raceRunning</field><value name="VALUE"><shadow type="math_number" id="r2WW747#I,^,`Q%Y:%1+"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="zfLWuNvj^;=-ZWCK`qZf"><field name="VAR" id="d7L^0XID`F7fO`^_._v)">timeRaceStart</field><value name="VALUE"><shadow type="math_number" id="aa_ezbnXnn3Xe}1+@R?d"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="C]msn]Sr$R40i3=lVtDy"><field name="VAR" id="}NbJ?R$J.?-9)m9V]B-|">timeRaceDuration</field><value name="VALUE"><shadow type="math_number" id="{8~};PJhD{8q/9JQ!0VN"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="B9G/]e#B,5eYA{YU=8BV"><field name="VAR" id="noeDa2pf*Cjy#%G$j{tc">millisStartCalibrate</field><value name="VALUE"><shadow type="math_number" id="U(M+=xMYYn6/Ry=k/zj)"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="U-S-M{G+H#oF];{Rh(?z"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="wZq+o{-,vT1KRypl2C/g"><mutation items="0"/></block></value><next><block type="variables_set" id="YksUid%#@{YL@cDdv:[{"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="~3f`dt]Oa8htFF`46nv!"><mutation items="0"/></block></value><next><block type="builtin_neopixel_clear" id="1HwEGK.^i~,Q40.)=BhD"><next><block type="function_call" id="u8-$c^KzJtSyeRMVs2q#"><mutation name="statusInitializing" functionid="E+S$+#cB)aQ_~Y21~e;`"/><next><block type="function_call" id="(u[5*x:0Yl?#]5[f@p8!"><mutation name="lightCalibrate" functionid="ZW^CSdOg9G,p=#X%QBiQ"/><next><block type="function_call" id="bQV1!a}C-dvUJ`#!UHRM"><mutation name="statusReady" functionid="8xIRe+W+pK{vS?z5Soxt"/><next><block type="function_call" id="Ykvq8,2Q}VixmwyrnGc%"><mutation name="waitForStart" functionid="j?AQ_~r7o?xefV?Bp5o("/><next><block type="device_while" id="799hqlT,-1};Y4!(haO6"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="S,}PSXe`9+wY2qMi]O5`"><field name="VAR" id="ZkwGuVm9o(tz%baDikwO">raceRunning</field></block></value><statement name="DO"><block type="function_call" id="BR9`R#`z`$#y@.n`,Ong"><mutation name="pollFinishLine" functionid="#SJ2VxQ0*)|8*0VpTNf_"/></block></statement><next><block type="function_call" id="H@s)}6(m}^:^WhHd1BC]"><mutation name="servoRaiseGate" functionid="[ukjnydA,PiZwaT,ru{L"/></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="]d-8ELy?p@8`3=kyNG1Y" x="560" y="16"><mutation name="statusInitializing" functionid="E+S$+#cB)aQ_~Y21~e;`"/><field name="function_name">statusInitializing</field><comment id="undefined" pinned="false" h="80" w="160">The music will be quiet, and will cause a slight delay in bootup.  But it is fun.  :-)</comment><statement name="STACK"><block type="console_log" id="-/5KQQJS/#Av$!nr-?8o"><value name="value"><shadow type="text" id="+WL@b;-JR(R#h5)2#(~Y"><field name="TEXT">initializing</field></shadow></value><next><block type="builtin_neopixel_set_strip_color" id="wwHfXU7^,$4btT(jlkOu"><value name="rgb"><shadow type="colorNumberPicker" id="F@@/r}l.YCrG|mGa_Q$f"><field name="value">0xff0000</field></shadow></value><next><block type="playMelody" id="g,Hle(9~Yj97:cXNu=5B"><value name="melody"><shadow type="melody_editor" id="9wEzH6ey6N=sw#a=5q_Q"><field name="melody">"C D E F G A B C5 "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="S2PTH3_zDt*Qim4i^9Lo"><mutation min="40" max="500" label="Number" precision="0"/><field name="SLIDER">320</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="98[/giEUN_L$e.caPt/I" x="1060" y="36"><mutation name="statusLaunched" functionid="=x?,Q,Xl5f{(N8AT?AXi"/><field name="function_name">statusLaunched</field><statement name="STACK"><block type="console_log" id="!!7e?N6wN@oax7wUo{[0"><value name="value"><shadow type="text" id="(GLaV-*Qu@^hdy.T6)~`"><field name="TEXT">cars launched</field></shadow></value><next><block type="builtin_neopixel_stop_all_animations" id="~0TYC#G%*BMo_RN21n@="><next><block type="builtin_neopixel_set_strip_color" id="?!ed=g+0Xj{wvi8KJe.K"><value name="rgb"><shadow type="colorNumberPicker" id="rg1}P5?NVDvLY:x|jt**"><field name="value">0x00ff00</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="${9%$~;%%.xIema}ni7/" x="560" y="296"><mutation name="statusReady" functionid="8xIRe+W+pK{vS?z5Soxt"/><field name="function_name">statusReady</field><statement name="STACK"><block type="console_log" id="Cd_?P{AB(l:XqqcoC.B@"><value name="value"><shadow type="text" id="vvc~JpFv!5yt*-noT#lB"><field name="TEXT">ready to race</field></shadow></value><next><block type="builtin_neopixel_stop_all_animations" id=";.Lu@@Oiq@3$Si?IZ[:c"><next><block type="playMelody" id="iZ%unRFvwR=npN*9R+(2"><value name="melody"><shadow type="melody_editor" id="#}YC3z`0bdy.2t@GVRJ4"><field name="melody">"C D E C5 C5 G C5 C5 "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="^EC1:~;]il%$+Aw7w!N;"><mutation min="40" max="500" label="Number" precision="0"/><field name="SLIDER">320</field></shadow></value><next><block type="builtin_neopixel_set_strip_color" id="q#M|f%Q*nhFbHx0}sY0v"><value name="rgb"><shadow type="colorNumberPicker" id="RKkK)L9m=|1:;ngk-U1d"><field name="value">0xffff00</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id=")vBxqY^+Y,6=nKVZIV|P" x="1060" y="336"><mutation name="statusRaceComplete" functionid="nM/A.Qvz/ON[y84Q/SCB"/><field name="function_name">statusRaceComplete</field><statement name="STACK"><block type="console_log" id=".B]VpZdOF1P7PsTR!0g2"><value name="value"><shadow type="text" id="JnOBA1Y8q2rQc:o-[WCe"><field name="TEXT">race complete</field></shadow></value><next><block type="builtin_neopixel_stop_all_animations" id="UDw_;j_tkd_)0n=SF[`."><next><block type="builtin_neopixel_set_strip_color" id="R;moWKOsg|nk[YtheW?K"><value name="rgb"><shadow type="colorNumberPicker" id="5w,(-NmXQnVZevl`6K^~"><field name="value">0xffffff</field></shadow></value><next><block type="playMelody" id="L4r(jP?)Fqn4vZ7ev0Xa"><value name="melody"><shadow type="melody_editor" id="?dnDYpl.A$JhX+ZKs]oX"><field name="melody">"C5 G A E F G A C5 "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="*;v)Zj]A3L|z+~7/NI,8"><mutation min="40" max="500" label="Number" precision="0"/><field name="SLIDER">320</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="ONxese:Jk|bZz0){M1q(" x="560" y="636"><mutation name="waitForStart" functionid="j?AQ_~r7o?xefV?Bp5o("/><field name="function_name">waitForStart</field><statement name="STACK"><block type="pxt_pause_until" id="Paujr-$li42iS+SE1dFo"><value name="PREDICATE"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="buttonIsPressed" id="{q`[x:R8eSnspLb_p}`F"><field name="button">input.buttonA</field></block></value><next><block type="function_call" id="@aw|SUsU~S$3ahlft@Oi"><mutation name="statusLaunched" functionid="=x?,Q,Xl5f{(N8AT?AXi"/><next><block type="function_call" id="-_~Sbo5)c2gQ5C0AjpfN"><mutation name="servoDropGate" functionid="]__?@EG;A**8*NPgLWzO"/></block></next></block></next></block></statement></block><block type="function_definition" id="4dJs5SiRGBLzPLF*uzd," x="1080" y="796"><mutation name="servoDropGate" functionid="]__?@EG;A**8*NPgLWzO"/><field name="function_name">servoDropGate</field><statement name="STACK"><block type="controls_if" id="1_e{g%Z)_;WxoeM54+si"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="=tAkSZ~I3XJN$bNU*[*I"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="dvj;GA5VM{F6W2gE6!^n"><field name="VAR" id="ZkwGuVm9o(tz%baDikwO">raceRunning</field></block></value><value name="B"><shadow type="math_number" id="^)ke,H9v=(e0O2qv9[xd"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="console_log" id="mAkkO#EQ?TCj3*f{Wm`P"><value name="value"><shadow type="text" id="m*TX@Y]G:`]uqdt=Hi.W"><field name="TEXT">dropping gate</field></shadow></value><next><block type="variables_set" id="VxX[FRk89r^Ku%`U@2QT"><field name="VAR" id="ZkwGuVm9o(tz%baDikwO">raceRunning</field><value name="VALUE"><shadow type="math_number" id="=L-D]w;D55wztnoz|J3S"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="tZy8}T5uIU}VzF#~Usz:"><field name="VAR" id="d7L^0XID`F7fO`^_._v)">timeRaceStart</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="^Dhn/eUEbXwQ4GWMuqF]"/></value><next><block type="device_set_servo_pin" id="bPEh|Q`47?+sA*)3tdhI"><field name="name">pins.A1</field><value name="value"><shadow type="protractorPicker" id="r+v2#fHfzNwOBA~:-fxg"><field name="angle">180</field></shadow></value></block></next></block></next></block></next></block></statement></block></statement></block><block type="function_definition" id="0S,5^,3nco}9pXw_kou@" x="0" y="872"><mutation name="lightSensorRead" functionid="bDno7t=:vqn,x{.4:,WY"/><field name="function_name">lightSensorRead</field><comment id="undefined" pinned="false" h="80" w="160">To add a lane, you will need to add an element to lightSensorCurrent, reading from the correct analog pin.
You will also need to tweak the conditional logic in pixelShowWinner to show a unique pixel pattern for additional lanes.</comment><statement name="STACK"><block type="variables_set" id="Vau[d^Gv?;7;7f=!W5_-"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="kHz,!Eu5s~xx2^{Y2CCF"><mutation items="2"/><value name="ADD0"><block type="device_get_analog_pin" id=";Az~7p@BS_(m:h(?r5N,"><field name="name">pins.A2</field></block></value><value name="ADD1"><block type="device_get_analog_pin" id="H?,)nd@{8~x?_H[Mj`pm"><field name="name">pins.A3</field></block></value></block></value></block></statement></block><block type="function_definition" id="VR{4Wa3x[7]}EFOT1~!k" x="0" y="1056"><mutation name="lightCalibrate" functionid="ZW^CSdOg9G,p=#X%QBiQ"/><field name="function_name">lightCalibrate</field><statement name="STACK"><block type="function_call" id="lZ,Tob(E]Nqx]_JOGS$r"><mutation name="lightSensorRead" functionid="bDno7t=:vqn,x{.4:,WY"/><next><block type="pxt_controls_for" id="*u1;lG9=9WW-aa}2@bNt"><value name="VAR"><shadow type="variables_get_reporter" id="@fbkRgqRc/rnC{Af~hRg"><field name="VAR" id="I3L`{MP3jINY7km[$fbm">index2</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="3_tAwfI,r1nVeQGzWIi%"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="7eohm?#K$MB7L62#d(fs"><value name="VALUE"><block type="variables_get" id="^4sU{V1%RTCJIS4%[pL,"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value></block></value><value name="B"><shadow type="math_number" id="ImZf,Yc!ptuKSBtTS4~P"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="array_insertAt" id="KZQ*oJw=3x2uQY9enKxC"><value name="list"><block type="variables_get" id="p-bnw4!kFS9IqbdK(szi"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="index"><block type="variables_get" id="bpsMj6`hX;rJU!RJ9jlO"><field name="VAR" id="I3L`{MP3jINY7km[$fbm">index2</field></block></value><value name="value"><shadow type="math_number" id="X{#AJ?u8Yk$jo#a|0v.t"><field name="NUM">1023</field></shadow></value></block></statement><next><block type="console_log" id="hs?Zaqh=R9*cOYX~BYT/"><value name="value"><shadow type="text" id="@RZFr#[W+X[joa#7-N?B"><field name="TEXT">calibrate</field></shadow></value><next><block type="variables_set" id="@:#|%%7O5%_2H!`$eK81"><field name="VAR" id="noeDa2pf*Cjy#%G$j{tc">millisStartCalibrate</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="q#ZwicLC`#/3|4?urLE."/></value><next><block type="device_while" id="RC;tz],Itb27p#=dn0f*"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{`b8RI{i?nAmW/huI~o?"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="a2boSmsoocH+#DZ)(CWC"/></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=")w1Bmj)v~ZQ69%xrJDuk"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="nAf]Wkj-#ppiV5~bWzKj"><field name="VAR" id="noeDa2pf*Cjy#%G$j{tc">millisStartCalibrate</field></block></value><value name="B"><shadow type="math_number" id="M$sfbaLMh^,fI~5WiEGC"><field name="NUM">2000</field></shadow></value></block></value></block></value><statement name="DO"><block type="function_call" id="j[-.0ptUE]^iK{ZV!tCJ"><mutation name="lightSensorRead" functionid="bDno7t=:vqn,x{.4:,WY"/><next><block type="pxt_controls_for" id="}cG#@$fvd}t^p2}=vlDq"><value name="VAR"><shadow type="variables_get_reporter" id="[;@Fgfo!19`XEuLcXctw"><field name="VAR" id="a.jmx~RomcjoN8t2+@NQ">index3</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="oP#,!hxp`U:whrKTEO-2"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="J#8pF37)Lq2%LI;MSN`,"><value name="VALUE"><block type="variables_get" id="^ipa|ZE+*qeb`sLC]TQl"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value></block></value><value name="B"><shadow type="math_number" id="[{:QP|hrI0)$}*z3c4sO"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="controls_if" id="vgq~L=o$0jf,hSz]aNh)"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="(oa}89[9N=%@s4C*11q0"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="$JYMZH)`Tt,Eu%M8t#^f"><value name="LIST"><block type="variables_get" id="qauQ+a~RFVCke%5DIT}e"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="A5{=K$^v!l!yyM%L?iC1"><field name="VAR" id="a.jmx~RomcjoN8t2+@NQ">index3</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="%j/DgmhYod!(x5eG;Q]?"><value name="LIST"><block type="variables_get" id="br/Sn^-2@,ZX3Q!oz*?P"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-tGt_n~S;a6{9OZ$t|EU"><field name="VAR" id="a.jmx~RomcjoN8t2+@NQ">index3</field></block></value></block></value></block></value><statement name="DO0"><block type="lists_index_set" id="ru:w78}l^S~E@*vb=bpR"><value name="LIST"><block type="variables_get" id=",JBV(b1;PD65~u}rk9xR"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=":OdJx~%Wf~O6Q*BRyLya"><field name="VAR" id="a.jmx~RomcjoN8t2+@NQ">index3</field></block></value><value name="VALUE"><block type="lists_index_get" id="1?bm6AA-7T4;_qB@Y^$M"><value name="LIST"><block type="variables_get" id="(4jm-n{l22Z$)$L553^F"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="HnNYXf|Ji#I1Uj$U(c:5"><field name="VAR" id="a.jmx~RomcjoN8t2+@NQ">index3</field></block></value></block></value></block></statement></block></statement></block></next></block></statement><next><block type="pxt_controls_for" id="sz%cK*ia~!2C$.l,B1/]"><value name="VAR"><shadow type="variables_get_reporter" id="Y1}SFh2uuO,}f|KMa?Yo"><field name="VAR" id="[$/kjfBcU)l4xAo3hlvy">index4</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="~8$/qPNqxx:Hr2rJ2[M?"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="Xwir+IDD)diIN]8ehcd}"><value name="VALUE"><block type="variables_get" id="n*|;?}6,h2Y/xyt7X/DE"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value></block></value><value name="B"><shadow type="math_number" id="a#ONwsdx?u/bYPEpgtEx"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="lists_index_set" id="F~:=._FYJ)T]?.1jm4.l"><value name="LIST"><block type="variables_get" id="1:_.E`M}=7|?/~GhU-Gm"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="8OLwmHH!,Sf8CJB|r0+/"><field name="VAR" id="[$/kjfBcU)l4xAo3hlvy">index4</field></block></value><value name="VALUE"><block type="math_arithmetic" id="NM)$2*W3#~iySr;n%(L6"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="j5i)R)Am.VenMcuTWGxp"><value name="LIST"><block type="variables_get" id="nREgbm@WryYr{I`HrgMP"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="8rk)^S,MT.V5iL4r0o`8"><field name="VAR" id="[$/kjfBcU)l4xAo3hlvy">index4</field></block></value></block></value><value name="B"><shadow type="math_number" id="XTO.2a^/3b{MDT^)-3aL"><field name="NUM">0.5</field></shadow></value></block></value><next><block type="console_log" id="{ac|%y%U$UicVMhDXcXz"><value name="value"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="sy35$|84/-kKgEcST=LW"><mutation items="4"/><value name="ADD0"><shadow type="text" id="wTzkW}[nsC*G7]xTbAEA"><field name="TEXT">lane </field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="V!.HS!G*XXo?2n{b,uO6"><field name="VAR" id="[$/kjfBcU)l4xAo3hlvy">index4</field></block></value><value name="ADD2"><shadow type="text" id="^RWONtQfVm_~e77Aisd`"><field name="TEXT"> is calibrated to </field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"/></shadow><block type="lists_index_get" id=":?UE?0b:R)zP+=REFlEd"><value name="LIST"><block type="variables_get" id="Zr0,UCcY6*7j8sxlo,@d"><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="qZTUCMJCMLC48]ktZP~!"><field name="VAR" id="[$/kjfBcU)l4xAo3hlvy">index4</field></block></value></block></value></block></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="p!)9*,y]`/~T!B5AToSd" x="1080" y="1196"><mutation name="servoRaiseGate" functionid="[ukjnydA,PiZwaT,ru{L"/><field name="function_name">servoRaiseGate</field><statement name="STACK"><block type="console_log" id="!RdrL-27UmoGv;Kc[1NZ"><value name="value"><shadow type="text" id="1,yC:uRjJ^Tr~kMzq2L|"><field name="TEXT">raising gate</field></shadow></value><next><block type="device_set_servo_pin" id="U,FgJs,@eqWNlb@eq4,^"><field name="name">pins.A1</field><value name="value"><shadow type="protractorPicker" id="Jq?(1b*SbOFvWzHS(a0c"><field name="angle">0</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="AJ8SbbFQFH387aav:$5K" x="0" y="2116"><mutation name="pollFinishLine" functionid="#SJ2VxQ0*)|8*0VpTNf_"/><field name="function_name">pollFinishLine</field><statement name="STACK"><block type="function_call" id="8y4tPI%]myn:7o%9YEmg"><mutation name="lightSensorRead" functionid="bDno7t=:vqn,x{.4:,WY"/><next><block type="pxt_controls_for" id="};0Ii%L~Qvv$$B@X%vp7"><value name="VAR"><shadow type="variables_get_reporter" id="bmwjbR+.7?Yx91$O,_ZY"><field name="VAR" id="-%/jU0CWlmlIQX:fimL;">index</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="bhElBB#lSV[V7-j?xP~R"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="0#As0}jKIW.r/UluEfda"><value name="VALUE"><block type="variables_get" id="on2jH|$}T56|PYhQ?yD9"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value></block></value><value name="B"><shadow type="math_number" id="(TG^/1R|ZYkdG-Wtpi:g"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="controls_if" id="CoTgrhf-x^k,Z25B/hZh"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="uc(=g90y~0Kq52^*mxWX"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="92i8fo0G]:x0M6YF-t(/"><value name="LIST"><block type="variables_get" id="/p3`2+dVIdbAB*!t2Cg7"><field name="VAR" id=".;up46f*Osmghm1FKTmh">lightSensorCurrent</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="~bd`P!B/*A:vGhsq$S3R"><field name="VAR" id="-%/jU0CWlmlIQX:fimL;">index</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="py^G1+H-Fj5FqRVdd!MD"><value name="LIST"><block type="variables_get" id="0*s2jpW77e4r(~dX7Jb["><field name="VAR" id="9;B`U[6{eXMOz7fojN$W">lightThresholdMin</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="nsD./kgp(;EB!|aIHlI*"><field name="VAR" id="-%/jU0CWlmlIQX:fimL;">index</field></block></value></block></value></block></value><statement name="DO0"><block type="function_call" id="qz8J7ryj8zq+qaaz|Ix1"><mutation name="declareWinner" functionid="0yPe]Ov~uece7yheNyw~"><arg name="lane" id="avbdvfo0bap28673p3ra" type="number"/></mutation><value name="avbdvfo0bap28673p3ra"><shadow type="math_number" id="t^9o?ISKR)-b%dc1^)lZ"><field name="NUM">1</field></shadow><block type="variables_get" id=":fj!FzJrG(D`t@nG|__C"><field name="VAR" id="-%/jU0CWlmlIQX:fimL;">index</field></block></value><next><block type="break_keyword" id="TVJjM2l]c[C{sH@z_yu?"><breakpoint xmlns="http://www.w3.org/1999/xhtml"></breakpoint></block></next></block></statement></block></statement></block></next></block></statement></block><block type="function_definition" id="JIYSH6l5Fl`B^OZy~H;d" x="0" y="2596"><mutation name="declareWinner" functionid="0yPe]Ov~uece7yheNyw~"><arg name="lane" id="avbdvfo0bap28673p3ra" type="number"/></mutation><field name="function_name">declareWinner</field><comment id="undefined" pinned="false" h="80" w="160">Lanes are 0 and 1.
Lane 0 is the left lane when looking at the board.
Lane 1 is the right lane when looking at the board.</comment><value name="avbdvfo0bap28673p3ra"><shadow type="argument_reporter_number" id="pA`oo5aD9;*XLkYn/sDF"><field name="VALUE">lane</field></shadow></value><statement name="STACK"><block type="variables_set" id="ykvXU|r^*X#I@Q$2:Qk*"><field name="VAR" id="}NbJ?R$J.?-9)m9V]B-|">timeRaceDuration</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="P-/zKXj?:[oA3++Cz0:S"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="he$2NfK+kG?na:H3aAtw"/></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="E$s0QSZQmUt40.K,u2bt"><field name="VAR" id="d7L^0XID`F7fO`^_._v)">timeRaceStart</field></block></value></block></value><next><block type="variables_set" id="wihO*,;jD40KEvn9IUTk"><field name="VAR" id="ZkwGuVm9o(tz%baDikwO">raceRunning</field><value name="VALUE"><shadow type="math_number" id="o0*$f[C$Y596t%v^yO;-"><field name="NUM">0</field></shadow></value><next><block type="function_call" id="%I68aY`KR2MFLL_do%j~"><mutation name="statusRaceComplete" functionid="nM/A.Qvz/ON[y84Q/SCB"/><next><block type="function_call" id="=YN4=rh-{9`Z3`uO:L^c"><mutation name="pixelShowWinner" functionid="UDZog=9e+$=4rBfm3n;3"><arg name="lane" id="4oexkicdml2lxd9ezlg3" type="number"/></mutation><value name="4oexkicdml2lxd9ezlg3"><shadow type="math_number" id="zq9%/mJ}L0B_2:JR,QLA"><field name="NUM">1</field></shadow><block type="argument_reporter_number" id="oKdmY@:X5QAD%{NVv0_,"><field name="VALUE">lane</field></block></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="{hMikT7hlY9X[+=!_FzP" x="680" y="2596"><mutation name="pixelShowWinner" functionid="UDZog=9e+$=4rBfm3n;3"><arg name="lane" id="4oexkicdml2lxd9ezlg3" type="number"/></mutation><field name="function_name">pixelShowWinner</field><value name="4oexkicdml2lxd9ezlg3"><shadow type="argument_reporter_number" id="$5r{5ghWTcgCH8yn[ZF4"><field name="VALUE">lane</field></shadow></value><statement name="STACK"><block type="console_log" id="9d3;OYi]1s]F*]PzQ`W:"><value name="value"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="L-zqn*eP#UU`[rBph/;1"><mutation items="2"/><value name="ADD0"><shadow type="text" id="er-@nD~e$xtjfjU7P|AE"><field name="TEXT">the winner is lane </field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variable_to_text" id="nfk/td=Hiu)XUcBkg!b!"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="W?MZ=0/O,[vd8Sxi1qcZ"><field name="VALUE">lane</field></block></value></block></value></block></value><next><block type="console_log" id="YI-_?V%](ly(YTl}F[M/"><value name="value"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="#dgLO2}5_)_On|S}9|zd"><mutation items="3"/><value name="ADD0"><shadow type="text" id="Q*X1wfJ1nq}XLjgnAM]#"><field name="TEXT">race duration is </field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variable_to_text" id="=_K18SVb8XN(X2+06hJ$"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="{M~DWscV+:%Xv)3G]@fX"><field name="VAR" id="}NbJ?R$J.?-9)m9V]B-|">timeRaceDuration</field></block></value></block></value><value name="ADD2"><shadow type="text" id="Icz`,OV+heDr=o7p#Xs("><field name="TEXT">ms</field></shadow></value></block></value><next><block type="controls_if" id="Hr0k26a$}pA;CjY6*q4H"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="~8+F2Vg49GoCrH(8XWVc"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="1$p@UH@!4$1w-UP+@DkG"><field name="VALUE">lane</field></block></value><value name="B"><shadow type="math_number" id="#1u_]60A9=m,=l+73lYe"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="builtin_neopixel_set_pixel_color" id="X)*VN*dP5Ogx-cFaD2V^"><value name="pixeloffset"><shadow type="math_number" id="~(zL71|xr41-0#zL8iMK"><field name="NUM">1</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="Aun:`{h]%n2ioqX*.zz6"><field name="value">0x00ff00</field></shadow></value><next><block type="builtin_neopixel_set_pixel_color" id="@v|bAQr!lUunpP{hK_Dl"><value name="pixeloffset"><shadow type="math_number" id="9*:pneId}$(]IH*Hs}tu"><field name="NUM">2</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="t,=]V!RNkAM=D4s)f.Y_"><field name="value">0x0000ff</field></shadow></value><next><block type="builtin_neopixel_set_pixel_color" id="j[|^ECyI-s:yN.nx:LQ["><value name="pixeloffset"><shadow type="math_number" id="i,}pqt=-D1$y6S~CfYCt"><field name="NUM">3</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="H~Fy6Vu-chi^!Z=+}in@"><field name="value">0x00ff00</field></shadow></value></block></next></block></next></block></statement><statement name="ELSE"><block type="builtin_neopixel_set_pixel_color" id="~Q3`lwr:jb|]#G.%BcC6"><value name="pixeloffset"><shadow type="math_number" id="QYY3CV#_hl/TyNhW{:1h"><field name="NUM">6</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="04DOw4$#NpLnwv@F4}vK"><field name="value">0x00ff00</field></shadow></value><next><block type="builtin_neopixel_set_pixel_color" id="|z`T|n5cSvk3XyjC#]%@"><value name="pixeloffset"><shadow type="math_number" id="w.$%!qopMn+0,CSc/QHG"><field name="NUM">7</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="$vB?m:Q|-bkv*kRK=JZ,"><field name="value">0x0000ff</field></shadow></value><next><block type="builtin_neopixel_set_pixel_color" id="nZk(cgYEs~Z:0@az@-J;"><value name="pixeloffset"><shadow type="math_number" id="xt]qy%lTO{+AXrn1lRhC"><field name="NUM">8</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="$LP5!tWV.kEzAWkDN[kw"><field name="value">0x00ff00</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="forever" id="6!TE].j*mIl:I|`jS-Gu" x="20" y="2956"><comment id="undefined" pinned="false" h="80" w="160">main loop does nothing.  we intentionally want to do a full reset between races to ensure every race gets a clean slate and fresh calibration</comment><statement name="HANDLER"><block type="control_wait_us" id="V~Ri+DY%-F?Z]]X5N@3I"><value name="micros"><shadow type="math_number" id="k}G,+e$Lt?6|rF$#DRL_"><field name="NUM">1000000</field></shadow></value></block></statement></block></xml>